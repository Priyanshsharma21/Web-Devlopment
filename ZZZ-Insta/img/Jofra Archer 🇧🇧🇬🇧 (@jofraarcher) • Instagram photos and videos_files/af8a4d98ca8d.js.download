__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=(function(t){function o(){for(var o,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return o=t.call.apply(t,[this].concat(s))||this,o.state={commentToDeleteId:null,showDeleteCommentModal:!1},o.$PostComments1=function(t){o.setState({commentToDeleteId:t,showDeleteCommentModal:!0})},o.$PostComments2=function(){o.setState({commentToDeleteId:null,showDeleteCommentModal:!1})},o}i(d[0])(o,t);var n=o.prototype;return n.$PostComments3=function(){var t=this.props,o=t.caption,n=t.showIGTVCaption,s=t.title;return n?[s,o].filter(Boolean).join('\n\n'):o},n.$PostComments4=function(){return this.props.variant!==r(d[1]).VARIANTS.feed&&!r(d[2]).isMobile()},n.render=function(){var t=this.props,o=t.analyticsContext,n=t.captionIsEdited,s=t.className,l=t.code,c=t.commentingDisabledForViewer,C=t.commentsAreStacked,p=t.commentsDisabled,u=t.customIndentationPadding,I=t.customPaddingStyle,h=t.hasRankedComments,v=t.hideUserAvatar,w=t.id,P=t.mediaType,f=t.onLikeCountClick,k=t.onLikeModalClose,A=t.ownerId,D=t.permalinkedCommentId,T=t.permalinkedReplyId,y=t.postedAt,M=t.reducedAvatarMargin,R=t.showCommentOptionsInline,V=t.showIGTVCaption,$=t.showRemoveCommentIcons,b=t.variant,S=null!=t.viewerId;return a(d[3]).createElement(a(d[3]).Fragment,null,this.$PostComments4()?a(d[3]).createElement(i(d[4]),{analyticsContext:o,captionAndTitle:this.$PostComments3(),captionIsEdited:n,className:s,code:l,commentingDisabledForViewer:c,commentsDisabled:p,customIndentationPadding:u,customPaddingStyle:I,handleDeleteCommentClick:this.$PostComments1,hasRankedComments:h,hideUserAvatar:!!v,id:w,isDeletingComments:$,loggedIn:S,mediaType:P,onLikeCountClick:f,onLikeModalClose:k,ownerId:A,permalinkedCommentId:D,permalinkedReplyId:T,postedAt:y,reducedAvatarMargin:M,showCommentOptionsInline:R,showIGTVCaption:V}):a(d[3]).createElement(i(d[5]),{captionAndTitle:this.$PostComments3(),captionIsEdited:n,className:s,code:l,commentsAreStacked:C,commentsDisabled:p,handleDeleteCommentClick:this.$PostComments1,id:w,loggedIn:S,mediaType:P,ownerId:A,postedAt:y,showIGTVCaption:V,showRemoveCommentIcons:$,variant:b}),this.state.showDeleteCommentModal&&a(d[3]).createElement(i(d[6]),{analyticsContext:o,commentId:i(d[7])(this.state.commentToDeleteId),onClose:this.$PostComments2,postId:w}))},o})(a(d[3]).PureComponent);t.defaultProps={variant:r(d[1]).VARIANTS.flexible};var o=r(d[10]).connect(function(t,o){var n;return{showRemoveCommentIcons:r(d[8]).getPostRemoveCommentsIsVisible(t),viewerId:null===(n=r(d[9]).getViewer(t))||void 0===n?void 0:n.id}})(t);e.default=o},6619136,[13500500,13304645,13500425,3,6619137,6619152,6619154,13565981,6619155,13500810,5]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n,t){var o=t.getBoundingClientRect().top-t.scrollTop;return n.getBoundingClientRect().top-o}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);var t=function(n){var t=n.innerRef,o=n.isPermalinkedComment,l=n.onHidePermalinkReply,s=n.parentComment,c=n.parentProps,u=n.parentState,h=n.permalinkedReplyId,p=n.permalinkedReplyNodeRef,C=n.replyPagerNodeRef,f=c.analyticsContext,T=c.code,k=c.commentingDisabledForViewer,I=c.customIndentationPadding,P=c.customPaddingStyle,v=c.handleDeleteCommentClick,y=c.hideUserAvatar,R=c.id,L=c.isDeletingComments,b=c.loggedIn,$=c.onLikeCountClick,M=c.onLikeModalClose,w=c.ownerId,A=c.reducedAvatarMargin,N=c.showCommentOptionsInline,E=u.commentPermalinkAnimEnabled;return a(d[2]).createElement(i(d[3]),{analyticsContext:f,code:T,commentingDisabledForViewer:k,customIndentationPadding:I,customPaddingStyle:P,hideUserAvatar:y,innerRef:t,isPermalinkedComment:o,loggedIn:b,onDeleteCommentClick:v,onHidePermalinkReply:l,onLikeCountClick:$,onLikeModalClose:M,parentComment:s,permalinkedReplyAnimating:E,permalinkedReplyId:h,permalinkedReplyNodeRef:p,postId:R,postOwnerId:w,reducedAvatarMargin:A,replyPagerNodeRef:C,showCommentOptionsInline:N,showRemoveIcon:L})},o=(function(o){function l(){for(var n,t=arguments.length,l=new Array(t),s=0;s<t;s++)l[s]=arguments[s];return n=o.call.apply(o,[this].concat(l))||this,n.$ThreadedComments1=a(d[2]).createRef(),n.$ThreadedComments2=a(d[2]).createRef(),n.$ThreadedComments3=a(d[2]).createRef(),n.$ThreadedComments4=[],n.state={isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!1,replyPermalinkLastHideTime:null},n.$ThreadedComments13=function(t){var o=n.props,l=o.addLoadCount,s=o.analyticsContext,c=o.code,u=o.hasRankedComments,h=o.id,p=o.loadMore,C=o.loggedIn,f=o.mediaType,T=o.numTimesLoadComment,k=o.onClickCommentLoaded,I=o.ownerId;!C&&!0===i(d[5])._("4793fa4fbe26a206d0b022a2d80efcd3","9bdfdee181e67439396f43d8544f3508")&&T>=i(d[6])(i(d[5])._("4793fa4fbe26a206d0b022a2d80efcd3","4d23f1db39cc77ea98d09e869377b01b"))&&!i(d[7])._("3500c1040008f41eafda8aa9aa91af7b")?k(c):(p(h,u,c),r(d[8]).logInteractionAction({containerModule:s,eventName:'instagram_child_comments_load_more',mediaAuthorId:I,mediaId:h,mediaType:f})),l()},n}i(d[4])(l,o);var s=l.prototype;return s.$ThreadedComments5=function(){return this.$ThreadedComments1.current||null},s.$ThreadedComments6=function(){return this.$ThreadedComments2.current||null},s.$ThreadedComments7=function(){return this.$ThreadedComments3.current||null},s.$ThreadedComments8=function(t,o,l,s){var c=this;this.setState({isAutoscrollingCommentPermalink:!0,commentPermalinkAnimEnabled:!1}),r(d[9]).measure(function(){var u,h=n(o,t);if(l){var p=n(l,t),C=l.getBoundingClientRect().height,f=t.getBoundingClientRect().height,T=Math.max(f-C,0);u=Math.max(h,p-T)}else u=h;r(d[9]).mutate(function(){t.scrollTop=u;var n=function(){c.setState({isAutoscrollingCommentPermalink:!1,commentPermalinkAnimEnabled:!0})};s?r(d[10]).onPageTimingsAvailable(function(){n()}):n()})})},s.componentDidMount=function(){var n=this.$ThreadedComments9;if(n){var t=this.$ThreadedComments5();if(t)this.$ThreadedComments8(n,t,this.$ThreadedComments6(),!0);else if(!this.props.hasRankedComments){if(r(d[11]).isDesktop())return;n.scrollTop=n.scrollHeight}}},s.componentDidUpdate=function(n,t,o){var l=this.$ThreadedComments9;if(l){var s=this.$ThreadedComments5();if(s){if(this.state.isAutoscrollingCommentPermalink)return;if(this.props.permalinkedCommentId!==n.permalinkedCommentId||this.props.permalinkedReplyId!==n.permalinkedReplyId||this.props.permalinkedComment!==n.permalinkedComment)return void this.$ThreadedComments8(l,s,this.$ThreadedComments6(),!1)}this.$ThreadedComments10(n,t,o,l,s)}},s.$ThreadedComments10=function(n,t,o,l,s){var c=this,u=n.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,h=(o||{}).newCommentCachedOffset,p=n.id===this.props.id&&n.permalinkedCommentId===this.props.permalinkedCommentId&&n.permalinkedReplyId===this.props.permalinkedReplyId&&t.replyPermalinkLastHideTime!==this.state.replyPermalinkLastHideTime,C=this.$ThreadedComments7();u&&!n.commentWasReply&&this.$ThreadedComments4[0]&&this.$ThreadedComments4[0].scrollIntoView({behavior:'smooth',block:'nearest',inline:'start'}),r(d[9]).measure(function(){var t=null;!u||n.commentWasReply||c.props.hasRankedComments?null!=h?t=l.scrollHeight-h:p&&s&&C&&(t=c.$ThreadedComments11(l,s,C)):t=l.scrollHeight,r(d[9]).mutate(function(){null!=t&&(l.scrollTop=t)})})},s.$ThreadedComments11=function(t,o,l){var s=n(l,t),c=n(o,t),u=Math.max(s-6,c);return t.scrollTop>u?u:null},s.getSnapshotBeforeUpdate=function(n,t){var o=n.comments,l=this.props.comments,s=this.$ThreadedComments9;return s&&n.id===this.props.id&&l.count()>o.count()&&!this.props.hasRankedComments?{newCommentCachedOffset:s.scrollHeight-s.scrollTop}:null},s.$ThreadedComments12=function(){this.setState({replyPermalinkLastHideTime:(new Date).valueOf()})},s.render=function(){var n,o=this,l=this.props,s=l.analyticsContext,c=l.captionAndTitle,u=l.captionIsEdited,h=l.className,p=l.code,C=l.comments,f=l.commentsDisabled,T=l.commentsHasNextPage,k=l.customPaddingStyle,I=l.disableScroll,P=l.hasRankedComments,v=l.hideUserAvatar,y=l.id,R=l.initialCommentsLoading,L=l.isOwnerVerified,b=l.loggedIn,$=l.mediaType,M=l.ownerId,w=l.permalinkedComment,A=l.permalinkedReplyId,N=l.postedAt,E=l.reducedAvatarMargin,x=l.showCommentOptionsInline,S=l.showIGTVCaption,O=l.showPagerBelowComments,_=!0!==f&&Boolean(T),F=R&&0===C.size;if(!(null!=c&&''!==c||0!==C.count()||_||F))return a(d[2]).createElement("div",{className:h});var H=null,D=null;F||null==f||(H=w?a(d[2]).createElement("div",{className:"ONnYN "+(this.state.commentPermalinkAnimEnabled&&!A?"_4Rhts":""),ref:this.$ThreadedComments1},a(d[2]).createElement(t,{isPermalinkedComment:!0,onHidePermalinkReply:function(){return o.$ThreadedComments12()},parentComment:w,parentProps:this.props,parentState:this.state,permalinkedReplyId:A,permalinkedReplyNodeRef:this.$ThreadedComments2,replyPagerNodeRef:this.$ThreadedComments3})):null,D=C.map(function(n,l){return w&&n.id===w.id?null:a(d[2]).createElement(t,{innerRef:function(n){return o.$ThreadedComments4[l]=n},key:l,parentComment:n,parentProps:o.props,parentState:o.state})}).filter(function(n){return!!n}));var V=null;null!=c&&''!==c&&(V=a(d[2]).createElement(i(d[12]),{analyticsContext:s,className:"PpGvg "+(r(d[11]).isMobile()?"_1LqHP":""),commentOwnerId:M,customPaddingStyle:k,hideUserAvatar:!!v,isAuthorVerified:!!L,isCaption:!0,isEdited:!!u,isRestrictedPending:!1,key:"captionAndTitle",loggedIn:b,mediaType:$,postedAt:i(d[6])(N),postId:y,postOwnerId:M,reducedAvatarMargin:E,showCommentOptionsInline:x,showIGTVCaption:S,showRemoveIcon:!1,showRichComment:!0,text:c,variant:r(d[13]).VARIANTS.flexible}));var B=_&&this.renderLoadMoreCommentsLink(null!=H),U=r(d[14]).buildMediaCommentsLink(i(d[6])(p),r(d[11]).isMobile()),G=r(d[11]).isDesktop()&&b&&r(d[15]).showCommentInfiniteScroll(),q=P||!0===O||G;return a(d[2]).createElement("div",{className:h},a(d[2]).createElement("ul",{className:"XQXOT "+(I?"m30fh":"")+" "+(null!==H?"OK1bl":"")+" "+(null===V?"RxcQ6":"")+" "+(!B||q?"pXf-y":"")+" "+('compact'===k?"M-yqw":""),ref:function(n){return o.$ThreadedComments9=n}},V,H,F?a(d[2]).createElement(i(d[16]),{direction:"row",justifyContent:"center"},a(d[2]).createElement(i(d[17]),null)):null,G&&null!=D?a(d[2]).createElement(i(d[18]),{allowSampledScrollLogging:!1,analyticsContext:s,enablePrefetch:!1,enablePriorityFetching:!1,hasNextPage:null!==(n=this.props.commentsHasNextPage)&&void 0!==n&&n,initialRenderCount:12,isFetching:this.props.commentsIsFetching,items:D,nextPageThreshold:1,onNextPage:function(){o.$ThreadedComments13(U)},overscanCount:6,prefetchNextPageThreshold:1.5,renderFeedItem:function(n){var t,o=n.index;return null==D?null:null!==(t=D.get(o))&&void 0!==t?t:null},sizeCache:new(i(d[19]))({estimatedSize:80}),visibleCount:D.size}):a(d[2]).createElement(a(d[2]).Fragment,null,!q&&B,!r(d[20]).isLoggedIn()&&r(d[20]).isGermanyCountryCode()&&i(d[7])._("8991444ceff19abf035ec8b141572a15")?null:D,q&&B)))},s.renderLoadMoreCommentsLink=function(n){var t,o,l=this.props,s=l.code,c=l.commentsIsFetching,u=l.hasRankedComments,h=l.loggedIn,p=l.onLoggedOutIntentClickLoginModal,C=r(d[14]).buildMediaCommentsLink(i(d[6])(s),r(d[11]).isMobile());return u?(t=0,o=0):n?(t=2,o=2):(t=0,o=4),a(d[2]).createElement("li",null,a(d[2]).createElement(i(d[21]),{commentsIsFetching:c,handleLoadMoreCommentsClick:this.$ThreadedComments13,loggedIn:h,marginBottom:o,marginTop:t,onLoggedOutIntentClickLoginModal:p,url:C}))},l})(a(d[2]).PureComponent),l=r(d[30]).connect(function(n,t){var o=t.id,l=t.ownerId,s=t.permalinkedCommentId,c=r(d[22]).getThreadedCommentsLoading(n,o),u=r(d[22]).selectVisibleParentCommentsForPostId(n,o),h=n.threadedComments.parentByPostId.get(o,r(d[23]).EMPTY_POST_COMMENTS_STATE),p=h.count,C=h.pagination,f=n.pendingComments.get(o,r(d[24]).EMPTY_PENDING_COMMENT),T=null;return c||null==s||''===s||(T=n.comments.byId.get(s)),{commentWasReply:null!=f.repliedToCommentId,commentSaveIsInFlight:f.committing,comments:u,commentsHasNextPage:r(d[25]).hasNextPage(C),commentsIsFetching:r(d[25]).isFetching(C),commentsTotalCount:null!=p?p:0,isOwnerVerified:r(d[26]).getUserById(n,l).isVerified,initialCommentsLoading:c,numTimesLoadComment:n.threadedComments.numTimesLoadComment,permalinkedComment:T}},function(n){return{addLoadCount:function(){n(r(d[27]).onIncreaseCommentLoadCount())},loadMore:function(t,o,l){r(d[28]).postUsesNativeEndpoint()?n(r(d[27]).requestNextParentCommentPageV2(t,o,l)):n(r(d[27]).requestNextParentCommentPage(t,o,l))},onClickCommentLoaded:function(t){var o=r(d[14]).buildMediaLink(t);n(r(d[29]).openLoginModal('content_wall',o,null,null,!0,o))},onLoggedOutIntentClickLoginModal:function(t,o){n(r(d[29]).openLoginModal('feature_wall',t,o,null,!0,t))}}})(o);e.default=l},6619137,[6619138,6619139,3,6619140,13500500,13500526,13565981,13500475,3801129,13500669,13500666,13500425,6619142,13304645,13500723,13304580,13566005,13566012,13304599,13566159,13500423,6619149,6619148,13500613,13303948,13500618,13500810,3801136,13500594,13500857,5]);
__d(function() {},6619138,[]);
__d(function() {},6619139,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]),r(d[1]);var t=function(t){var n=t.childComment,o=t.disableTimestampNav,l=t.parentProps,s=l.analyticsContext,c=l.code,C=l.commentingDisabledForViewer,h=l.customPaddingStyle,p=l.hideUserAvatar,u=l.loggedIn,I=l.onDeleteCommentClick,k=l.onLikeCountClick,y=l.onLikeModalClose,v=l.parentComment,w=l.postId,P=l.postOwnerId,R=l.reducedAvatarMargin,f=l.showCommentOptionsInline,b=l.showRemoveIcon;return a(d[2]).createElement(i(d[3]),{analyticsContext:s,className:"lDe-V "+('compact'===h?"q9edn":""),code:c,commentingDisabledForViewer:C,commentOwnerId:n.userId,commentThreadId:v.id,customPaddingStyle:h,disableTimestampNav:o,hideUserAvatar:!!p,id:n.id,isAuthorVerified:n.isAuthorVerified,isRestrictedPending:n.isRestrictedPending,key:n.id,likeCount:n.likeCount,likedByViewer:n.likedByViewer,loggedIn:u,onDeleteCommentClick:I,onLikeCountClick:k,onLikeModalClose:y,postedAt:n.postedAt,postId:w,postOwnerId:P,reducedAvatarMargin:R,showCommentOptionsInline:f,showRemoveIcon:b,showRichComment:!0,text:n.text,variant:r(d[4]).VARIANTS.flexible})},n=(function(n){function o(){for(var t,o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];return t=n.call.apply(n,[this].concat(l))||this,t.state={hasPermalinkedReplyBeenHidden:!1},t.$CommentThread3=function(n){var o=t.props,l=o.analyticsContext,s=o.childCommentsCacheCanShowMoreWithoutFetch,c=o.childCommentsIsFetching,C=o.hideReplies,h=o.loadChildComments,p=o.loadChildCommentsV2,u=o.onHidePermalinkReply,I=o.parentComment,k=I.id,y=I.userId,v=o.permalinkedReply,w=o.postId,P=o.postOwnerId,R=o.showReplies;c||(n?(C(k),r(d[6]).logInteractionAction({eventName:'instagram_child_comments_collapse',commentAuthorId:y,commentId:k,containerModule:l,mediaAuthorId:P,mediaId:w}),null!=v&&(null!=u&&u(),t.setState({hasPermalinkedReplyBeenHidden:!0}))):s?R(k):r(d[7]).postUsesNativeEndpoint()?p(w,k):h(k))},t}i(d[5])(o,n);var l=o.prototype;return l.componentDidUpdate=function(t,n){t.parentComment.id===this.props.parentComment.id&&t.permalinkedReplyId===this.props.permalinkedReplyId||this.setState({hasPermalinkedReplyBeenHidden:!1})},l.$CommentThread1=function(){var t=this.props,n=t.childCommentsCacheCanShowMoreWithoutFetch,o=t.childCommentsCanFetchMorePagination,l=t.childCommentsHasNextPage,s=t.permalinkedReply,c=t.remainingCachedShowableChildCommentIds;return null!=s&&!0===l&&!0===n&&!0!==o&&1===c.count()&&c.get(0)===s.id},l.$CommentThread2=function(t){return!0!==this.props.childCommentsHasNextPage||t&&this.$CommentThread1()},l.$CommentThread4=function(t,n){var o,l=this,s=this.props,c=s.childCommentsIsFetching,C=s.customPaddingStyle,h=s.replyPagerNodeRef,p=s.totalChildCommentCount,u=this.$CommentThread2(n),I=p-(t+(n?1:0));return o=u&&!c?r(d[8])(4163):I<=0?r(d[8])(1715):r(d[8])(3076,{'hidden replies':I}),a(d[2]).createElement("li",{className:"_61Di1",ref:h},a(d[2]).createElement(r(d[9]).Box,{direction:"row",marginBottom:t>0&&'compact'!==C?4:0,marginTop:n?2:0},a(d[2]).createElement(r(d[9]).Button,{borderless:!0,onClick:function(){return l.$CommentThread3(u)}},a(d[2]).createElement("div",{className:"_7mCbS"}),a(d[2]).createElement("span",{className:"EizgU"},o)),c&&a(d[2]).createElement("div",{className:"RA2Jp"},a(d[2]).createElement(r(d[9]).Spinner,{size:"small"}))))},l.render=function(){var n=this,o=this.props,l=o.analyticsContext,s=o.code,c=o.commentingDisabledForViewer,C=o.customIndentationPadding,h=o.customPaddingStyle,p=o.hideUserAvatar,u=o.innerRef,I=o.isPermalinkedComment,k=o.loggedIn,y=o.onDeleteCommentClick,v=o.onLikeCountClick,w=o.onLikeModalClose,P=o.parentComment,R=o.permalinkedReply,f=o.permalinkedReplyAnimating,b=o.permalinkedReplyId,A=o.permalinkedReplyNodeRef,N=o.postId,T=o.postOwnerId,S=o.reducedAvatarMargin,x=o.showCommentOptionsInline,M=o.showRemoveIcon,V=o.totalChildCommentCount,E=o.visibleChildComments,F=this.state.hasPermalinkedReplyBeenHidden,O=null;!R||F&&0===E.count()||(O=a(d[2]).createElement("div",{className:"IbtNy "+(!0!==f||F?"":"_4Rhts"),ref:A},a(d[2]).createElement(t,{childComment:R,disableTimestampNav:!0,parentProps:this.props})));var _=E.map(function(o,l){return O&&i(d[10])(R).id===o.id?null:a(d[2]).createElement(t,{childComment:o,key:l,parentProps:n.props})}).filter(function(t){return null!=t}),B=this.$CommentThread4(_.count(),null!=O),D=null!=C?{margin:"12px 0 0 "+C+"px",width:"calc(100% - "+C+"px)"}:void 0;return a(d[2]).createElement("ul",{className:"Mr508 "+('compact'===h?"g2M1O":""),ref:u},a(d[2]).createElement(i(d[3]),{analyticsContext:l,code:s,commentingDisabledForViewer:c,commentOwnerId:P.userId,commentThreadId:P.id,customPaddingStyle:h,disableTimestampNav:!0===I&&null==b,hideUserAvatar:!!p,id:P.id,isAuthorVerified:P.isAuthorVerified,isPermalinkedComment:I,isRestrictedPending:P.isRestrictedPending,likeCount:P.likeCount,likedByViewer:P.likedByViewer,loggedIn:k,onDeleteCommentClick:y,onLikeCountClick:v,onLikeModalClose:w,postedAt:P.postedAt,postId:N,postOwnerId:T,reducedAvatarMargin:S,showCommentOptionsInline:x,showRemoveIcon:M,showRichComment:!0,text:P.text,variant:r(d[4]).VARIANTS.flexible}),0!==V&&a(d[2]).createElement("li",null,a(d[2]).createElement("ul",{className:"TCSYW",style:D},O,B,_)))},o})(a(d[2]).Component),o={hideReplies:r(d[14]).hideChildComments,loadChildComments:r(d[14]).requestNextChildCommentPage,loadChildCommentsV2:r(d[14]).requestNextChildCommentPageV2,showReplies:!0===i(d[15])._("919c32fd8a384e3660a325c8b197e3a9","f4a453646b021ba4e515b53e84c8950b")?r(d[14]).showChildCommentsV2:r(d[14]).showChildComments},l=r(d[16]).connect(function(t,n){var o=n.parentComment,l=n.permalinkedReplyId,s=r(d[11]).selectChildCommentsForParentIdSplitByVisibility(t,o.id),c=s.remainingCachedShowableChildCommentIds,C=s.visibleChildComments,h=r(d[11]).getTotalChildCommentCountForParentId(t,o.id),p=t.threadedComments.childByParentId.get(o.id,r(d[12]).EMPTY_POST_COMMENTS_STATE).pagination,u=null;return null!=l&&''!==l&&(u=t.comments.byId.get(l)),{childCommentsCacheCanShowMoreWithoutFetch:r(d[13]).getVisibleCount(p)<r(d[13]).getLoadedCount(p),childCommentsCanFetchMorePagination:r(d[13]).canFetchMorePagination(p),childCommentsHasNextPage:r(d[13]).hasNextPage(p),childCommentsIsFetching:r(d[13]).isFetching(p),permalinkedReply:u,remainingCachedShowableChildCommentIds:c,totalChildCommentCount:h||0,visibleChildComments:C}},o)(n);e.default=l},6619140,[6619138,6619141,3,6619142,13304645,13500500,3801129,13500594,13500478,13566002,13565981,6619148,13500613,13500618,3801136,13500526,5]);
__d(function() {},6619141,[]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);n&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,s)}return o}function n(n){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?t(s,!0).forEach(function(t){i(d[1])(n,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):t(s).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(s,t))})}return n}Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var o=750,s=r(d[2])(883),c=r(d[2])(4100),l=r(d[2])(74),p=r(d[2])(450),u=r(d[2])(1206),C=r(d[2])(2612),I=function(t){var n=t.parentProps,o=n.commentOwnerId,s=n.commentOwnerUsername,c=n.isAuthorVerified,l=n.isCaption,u=n.isRestrictedPending,C=n.postOwnerIsUnpublished,I=n.showRichComment,h=u&&!t.parentState.showRestrictedContent,f=l?'h2':'h3';return h?a(d[3]).createElement(r(d[4]).Box,{marginBottom:1},a(d[3]).createElement(r(d[4]).Text.Body,{color:"ig-tertiary-text",weight:"semibold"},p)):l&&C?null:a(d[3]).createElement(f,{className:"_6lAjh "+(!0===u?"uQNwj":"")},a(d[3]).createElement(r(d[4]).Box,{marginEnd:1},a(d[3]).createElement(i(d[5]),{display:"inline",triggerAnalyticsContext:"post_commenter",userId:o},a(d[3]).createElement(r(d[4]).Button,{borderless:!0,color:"ig-secondary-button",href:r(d[6]).buildUserLink(i(d[7])(s))},i(d[7])(s)))),I&&c&&a(d[3]).createElement(r(d[4]).Box,{marginEnd:1},a(d[3]).createElement(r(d[4]).VerifiedBadge,{size:"small"})))},h=function(t){var n=t.parentProps,o=n.commentThreadId,s=n.disableTimestampNav,c=n.id,l=n.postShortcode,p=n.postedAt,u=a(d[3]).createElement(i(d[8]),{className:"FH9sR RhOlS",value:p});if(l&&c){var C=o&&o!==c?r(d[6]).buildReplyPermalink(l,o,c,r(d[9]).isMobile()):r(d[6]).buildCommentPermalink(l,c,r(d[9]).isMobile()),I=!0===s?function(t){return t.preventDefault()}:void 0;u=a(d[3]).createElement(i(d[10]),{className:"gU-I7",href:C,onClick:I},u)}return u},f=(function(t){function n(){for(var n,s=arguments.length,c=new Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=t.call.apply(t,[this].concat(c))||this,n.state={showApproveCommentDialog:!1,showCommentOptionsDialog:!1,showRestrictedContent:!1},n.$PostComment2=function(){n.setState({showCommentOptionsDialog:!0})},n.$PostComment3=function(){r(d[9]).isMobile()&&n.props.showRichComment&&!n.props.isCaption&&(n.$PostComment4=setTimeout(n.$PostComment2,o))},n.$PostComment1=function(){clearTimeout(n.$PostComment4)},n.$PostComment5=function(){n.setState({showCommentOptionsDialog:!1})},n.$PostComment6=function(){n.setState({showCommentOptionsDialog:!1}),n.props.onDeleteComment()},n.$PostComment7=function(){var t=n.props,o=t.id,s=t.onDeleteCommentClick;s&&s(i(d[7])(o))},n.$PostComment8=function(t){var o=n.props,s=o.onLikeComment,c=o.onUnlikeComment;t?s():c()},n.$PostComment9=function(){var t=n.props,o=t.isRestrictedPending,s=t.likedByViewer,c=t.onLikeComment;s||o||c()},n.$PostComment10=function(){var t=n.props,o=t.code,s=t.fetchCommentLikes,c=t.id,l=t.loggedIn,p=t.onLikeCountClick,u=t.onLoggedOutIntentClick,C=t.onLoggedOutIntentClickLoginModal;if(l)p&&(s(),p(i(d[7])(c)));else{var I='post_comment_like_count';r(d[9]).isDesktop()?C(r(d[6]).buildMediaLink(i(d[7])(o)),I):u(I)}},n.$PostComment11=function(t){var o=n.props,s=o.analyticsContext,c=o.commentOwnerId,l=o.commentThreadId,p=o.id,u=o.isRestrictedPending,C=o.mediaType,I=o.postId,h=o.postOwnerId,f=o.viewerId;switch(t.state){case'entered':if(null!=p&&null!=f)return r(d[12]).logCommentImpression({commentId:p,commentAuthorId:c,commentThreadId:l,containerModule:s,mediaId:I,mediaAuthorId:h,mediaType:C}),void(u&&i(d[13]).log({action:'impression',actorIgUserid:c,commentId:p,commentThreadId:l,parentMediaId:I,step:'pending_comment'}))}},n.$PostComment12=function(){var t=n.props,o=t.code,s=t.loggedIn,c=t.onLoggedOutIntentClick,l=t.onLoggedOutIntentClickLoginModal,p=t.onReplyClick;if(s)p();else{r(d[9]).isDesktop()?l(r(d[6]).buildMediaLink(i(d[7])(o)),"post_comment_reply"):c("post_comment_reply")}},n.$PostComment13=function(){var t=n.props,o=t.commentOwnerId,s=t.commentThreadId,c=t.id,l=t.postId;i(d[13]).log({action:'click',actorIgUserid:o,commentId:c,commentThreadId:s,parentMediaId:l,step:'pending_comment_see_hidden'}),n.setState({showRestrictedContent:!0})},n.$PostComment14=function(){var t=n.props,o=t.commentOwnerId,s=t.commentThreadId,c=t.id,l=t.postId;i(d[13]).log({action:'click',actorIgUserid:o,commentId:c,commentThreadId:s,parentMediaId:l,step:'pending_comment_approve'}),n.setState({showApproveCommentDialog:!0})},n.$PostComment15=function(){n.setState({showApproveCommentDialog:!1})},n.$PostComment16=function(){var t=n.props,o=t.commentOwnerId,s=t.commentThreadId,c=t.id,l=t.postId;i(d[13]).log({action:'click',actorIgUserid:o,commentId:c,commentThreadId:s,parentMediaId:l,step:n.state.showRestrictedContent?'pending_comment_delete':'pending_comment_delete_hidden'}),n.$PostComment7()},n.$PostComment17=function(){var t=n.props,o=t.code,s=t.id,c=t.likeCount,l=t.loggedIn;if(!c)return null;var p=c.toLocaleString(),u=r(d[2])(1283,{'like count':p}),C=r(d[2])(2037,{'like count':p}),I=1===c?u:C;return c>0&&(r(d[9]).isDesktop()||!l?a(d[3]).createElement("button",{className:"FH9sR",onClick:n.$PostComment10},I):a(d[3]).createElement(i(d[10]),{className:"FH9sR",href:"/p/"+i(d[7])(o)+"/c/"+i(d[7])(s)+"/liked_by/"},I))},n}i(d[11])(n,t);var p=n.prototype;return p.componentWillUnmount=function(){this.$PostComment1()},p.render=function(){var t=this,n=this.props,o=n.className,p=n.commentOwnerAvatar,f=n.commentOwnerId,w=n.commentOwnerUsername,P=n.commentThreadId,O=n.commentingDisabledForViewer,v=n.customPaddingStyle,k=n.hideUserAvatar,E=n.id,y=n.isCaption,b=n.isEdited,$=n.isPermalinkedComment,_=n.isRestrictedPending,T=n.likedByViewer,R=n.postId,N=n.postOwnerId,D=n.reducedAvatarMargin,U=n.showCommentOptionsInline,A=n.showRemoveIcon,L=n.showRichComment,M=n.variant,S=n.viewerId,j=this.props.text.toString(),B=!y&&S&&(S===f||N===S),x=B&&A&&!L,F=!(y||!S||x||_),V=i(d[14])._("e4bca332e1f7812a45af36245ce8805a")&&!r(d[15]).isUserLoggedIn()&&r(d[16]).isLoggedOutReportableCountryCode()&&$||L&&!r(d[9]).isMobile()&&!y&&null!=S,H=M===r(d[17]).VARIANTS.feed?i(d[18]):i(d[19]),Q=!!y||!F&&!B,q=_&&!this.state.showRestrictedContent,z=_&&this.state.showRestrictedContent,K=a(d[3]).createElement("div",{className:!0===U?"FH9sR":""},a(d[3]).createElement("div",{className:(!0!==U?"_4l6NB":"")+" "+(!0===U?"Ttrid":"")},a(d[3]).createElement(r(d[4]).SVGIconButton,{onClick:this.$PostComment2},a(d[3]).createElement(r(d[4]).Box,{alignItems:"center",height:24,justifyContent:"center",width:24},a(d[3]).createElement(i(d[20]),{alt:s,color:"ig-secondary-text"})))));return a(d[3]).createElement(r(d[21]).Viewpoint,{action:this.$PostComment11,id:j.replace(' ','-')},function(n){return a(d[3]).createElement(r(d[22]).DoubleTappable,{onDoubleClick:t.$PostComment9,role:"button"},a(d[3]).createElement("li",{className:i(d[23])("gElp9 "+(L?"rUo9f":"")+" "+('compact'===v?"UPTQ4":""),o),onMouseDown:t.$PostComment3,onMouseUp:t.$PostComment1,onTouchEnd:t.$PostComment1,onTouchMove:t.$PostComment1,onTouchStart:t.$PostComment3,ref:n,role:"menuitem"},a(d[3]).createElement("div",{className:"P9YgZ"},a(d[3]).createElement("div",{className:"C7I1f "+(Q?"X7jCj":"")},L&&!k&&a(d[3]).createElement(i(d[5]),{display:"block",triggerAnalyticsContext:"post_commenter_avatar",userId:f},a(d[3]).createElement(i(d[24]),{className:"TKzGu "+(!0===D?"q0Pmt":"")+" "+(!0===_?"uQNwj":""),isLink:!0,profilePictureUrl:p,size:r(d[4]).CORE_CONSTANTS.AVATAR_SIZES.small,storyEntrypoint:'post_comment',username:w})),a(d[3]).createElement("div",{className:"C4VMK"},a(d[3]).createElement(I,{parentProps:t.props,parentState:t.state}),!q&&a(d[3]).createElement(H,{className:!0===_?"uQNwj":"",component:void 0,componentType:void 0,edited:b,value:j}),L&&a(d[3]).createElement(r(d[4]).Box,{marginBottom:1,marginTop:'compact'===v?2:4},a(d[3]).createElement(r(d[4]).Text.Footnote,{color:"ig-secondary-text"},a(d[3]).createElement(h,{parentProps:t.props}),!y&&!_&&a(d[3]).createElement(a(d[3]).Fragment,null,t.$PostComment17(),!0!==O&&a(d[3]).createElement("button",{className:"FH9sR",onClick:t.$PostComment12},l),V&&!0===U&&K),q&&a(d[3]).createElement("button",{className:"FH9sR",onClick:t.$PostComment13},u),z&&a(d[3]).createElement("button",{className:"FH9sR",onClick:t.$PostComment14},r(d[25]).APPROVE_COMMENT_CTA),_&&a(d[3]).createElement("button",{className:"FH9sR",onClick:t.$PostComment16},C))))),x&&a(d[3]).createElement("button",{className:"_6qK3y",onClick:t.$PostComment7,title:c},c),V&&!U&&K,F&&a(d[3]).createElement(i(d[26]),{className:"jdtwu",isLiked:!!T,large:!1,onChange:t.$PostComment8}))),t.state.showCommentOptionsDialog&&E&&a(d[3]).createElement(i(d[27]),{canDeleteComment:!!B,commentId:E,commentOwnerAvatar:p,commentOwnerId:f,commentOwnerUsername:w,mediaId:R,mediaOwnerId:N,onClose:t.$PostComment5,onDelete:t.$PostComment6}),t.state.showApproveCommentDialog&&E&&a(d[3]).createElement(r(d[25]).ApproveCommentDialog,{commentId:E,commentOwnerId:f,commentOwnerUsername:w,commentThreadId:P,onClose:t.$PostComment15,postId:R}))})},n})(a(d[3]).PureComponent);f.defaultProps={showRichComment:!1};var w=r(d[34]).connect(function(t,n){var o=n.commentOwnerId,s=n.postId,c=n.postOwnerId,l=r(d[28]).getUserById(t,o),p=r(d[29]).getPostOrNullById(t,s);return{commentOwnerAvatar:i(d[7])(l.profilePictureUrl),commentOwnerId:i(d[7])(l.id),commentOwnerUsername:i(d[7])(l.username),postOwnerIsUnpublished:r(d[28]).getUserById(t,c).isUnpublished,postShortcode:p&&p.code||null,viewerId:t.users.viewerId}},function(t,o){var s={commentAuthorId:o.commentOwnerId,commentId:o.id,containerModule:o.analyticsContext,mediaAuthorId:o.postOwnerId,mediaId:o.id,mediaType:o.mediaType};return{fetchCommentLikes:function(){return t(r(d[30]).requestCommentLikes(i(d[7])(o.id)))},onDeleteComment:function(){return t(r(d[31]).deleteComment(o.postId,o.id||''))},onLikeComment:function(o){return t(r(d[31]).likeComment(n({},s,{userId:o||''})))},onLoggedOutIntentClick:function(n){t(r(d[32]).openLoggedOutIntentDialog(n))},onLoggedOutIntentClickLoginModal:function(n,o,s){var c=r(d[9]).isDesktop()||i(d[14])._("560e94b315ece7f84da9bfc28b672ca6")?'feature_wall':'content_wall';t(r(d[32]).openLoginModal(c,n,o,s,!0,n))},onReplyClick:function(n){return t(r(d[33]).changePendingComment(o.postId,"@"+(n||'')+" ",i(d[7])(o.commentThreadId),o.commentOwnerId,n))},onUnlikeComment:function(o){return t(r(d[31]).unlikeComment(n({},s,{userId:o||''})))}}},function(t,o,s){return n({},t,{},o,{},s,{onLikeComment:function(){return o.onLikeComment(t.viewerId)},onReplyClick:function(){return o.onReplyClick(t.commentOwnerUsername)},onUnlikeComment:function(){return o.onUnlikeComment(t.viewerId)}})})(f);e.default=w},6619142,[6619143,13500417,13500478,3,13566002,3801153,13500723,13565981,3801292,13500425,13566014,13500500,3801126,6619144,13500475,13500537,13500423,13304645,13304788,3407884,13566506,13500935,13304861,13566007,13566320,6619145,13304667,6619146,13500810,3801135,13304564,13304797,13500857,6488066,5]);
__d(function() {},6619143,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t={falco:!0,pigeon:!1},n=(function(){function n(){}return n.log=function(t){var n=t.action,o=t.actorIgUserid,c=t.commentId,l=t.commentThreadId,s=t.parentMediaId,_=t.step;this.$IgWellbeingRestrictManageCommentFalcoEvent1(function(){return{action:n,actor_ig_userid:parseInt(o),comment_id:c?parseInt(c):void 0,entrypoint:'comment',parent_comment_id:l===c?void 0:parseInt(l),parent_media_id:parseInt(s),step:_}})},n.$IgWellbeingRestrictManageCommentFalcoEvent1=function(n){r(d[0]).FalcoLogger.log('ig_wellbeing_restrict_manage_comment',n(),{},t)},n})();e.default=n},6619144,[13500486]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var o=r(d[0])(842),n=r(d[0])(2966),t=function(o){return r(d[0])(127,{username:o})},p=(function(p){function c(){for(var o,n=arguments.length,t=new Array(n),c=0;c<n;c++)t[c]=arguments[c];return o=p.call.apply(p,[this].concat(t))||this,o.$_ApproveCommentDialog1=function(){var n=o.props,t=n.commentId,p=n.commentOwnerId,c=n.commentThreadId,l=n.postId;i(d[2]).log({action:'click',actorIgUserid:p,commentId:t,commentThreadId:c,parentMediaId:l,step:'approval_page_approve_this_comment'}),o.props.onApproveClick(),o.props.onClose()},o.$_ApproveCommentDialog2=function(){var n=o.props,t=n.commentId,p=n.commentOwnerId,c=n.commentThreadId,l=n.postId;i(d[2]).log({action:'click',actorIgUserid:p,commentId:t,commentThreadId:c,parentMediaId:l,step:'approval_page_cancel'}),o.props.onClose()},o}i(d[1])(c,p);return c.prototype.render=function(){var p=this.props.commentOwnerUsername;return a(d[3]).createElement(r(d[4]).Dialog,{body:t(p),onModalClose:this.props.onClose,title:n},a(d[3]).createElement(r(d[4]).DialogItem,{color:"ig-primary-button",onClick:this.$_ApproveCommentDialog1},o),a(d[3]).createElement(r(d[4]).DialogItem,{onClick:this.$_ApproveCommentDialog2},r(d[5]).CANCEL_TEXT))},c})(a(d[3]).Component),c=r(d[7]).connect(null,function(o,n){return{onApproveClick:function(){o(r(d[6]).approveRestrictedComment(n.commentId))}}})(p);e.APPROVE_COMMENT_CTA=o,e.ApproveCommentDialog=c},6619145,[13500478,13500500,6619144,3,13566002,13500821,13304797,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=(function(t){function o(){for(var o,n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return o=t.call.apply(t,[this].concat(l))||this,o.state={showReportDialog:!1},o.$CommentOptionsDialog1=function(){o.setState({showReportDialog:!0})},o.$CommentOptionsDialog2=function(){(0,o.props.onClose)(),o.setState({showReportDialog:!1})},o}i(d[0])(o,t);return o.prototype.render=function(){var t=this.props,o=t.canDeleteComment,n=t.commentId,l=t.commentOwnerAvatar,s=t.commentOwnerId,c=t.commentOwnerUsername,p=t.mediaOwnerId,u=t.onDelete;if(this.state.showReportDialog)return a(d[1]).createElement(i(d[2]),{frxLocation:r(d[3]).FRXLocation.COMMENTS,frxObjectType:r(d[3]).FRXObjectType.COMMENT,onClose:this.$CommentOptionsDialog2,reportedObjectID:n,reportedOwner:{id:s,username:c,profilePicURL:l},useSimpleBlockModalWithoutRefresh:s===p});var C=r(d[4]).isUserLoggedIn()?a(d[1]).createElement(r(d[5]).DialogItem,{color:"ig-error-or-destructive",onClick:this.$CommentOptionsDialog1},r(d[6])(1287)):a(d[1]).createElement(i(d[7]),{contentId:n});return a(d[1]).createElement(r(d[5]).Dialog,{onModalClose:this.$CommentOptionsDialog2},C,o&&a(d[1]).createElement(r(d[5]).DialogItem,{color:"ig-error-or-destructive",onClick:u},r(d[6])(3436)),a(d[1]).createElement(r(d[5]).DialogItem,{onClick:this.$CommentOptionsDialog2},r(d[8]).CANCEL_TEXT))},o})(a(d[1]).Component);e.default=t},6619146,[13500500,3,13566451,13500696,13500537,13566002,13500478,6619147,13500821]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(n){return u[n]}function t(n,t){var o=l[n];return r(d[2]).buildLegalReportLink(o,t)}function o(){var n=r(d[3]).getCountryCode();return'DE'!==n&&'AT'!==n?null:n}Object.defineProperty(e,'__esModule',{value:!0});var u={DE:r(d[0])(828),AT:r(d[0])(3735)},l={DE:r(d[1]).NETZDG_REPORT_CONTACT_FORM_PATH,AT:r(d[1]).CPA_REPORT_CONTACT_FORM_PATH};e.default=function(u){var l=u.contentId,c=o();if(r(d[4]).isUserLoggedIn()||null==c)return null;var _=t(c,l),T=n(c);return a(d[5]).createElement(r(d[6]).DialogItem,{color:"ig-error-or-destructive",onClick:function(){window.open(_,'_blank')}},T)}},6619147,[13500478,13500677,13500723,13500423,13500537,3,13566002]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(o,n,c){var s=new(r(d[1]).FunctionalityTracker)('comment');return function(u,l){var p;s.attempt(),u({type:r(d[0]).COMMIT_PENDING_COMMENT_REQUESTED,postId:o}),i(d[2])._("f3cb0e417d8b73758be753a0ddc2afb7")||r(d[3]).logAction_DEPRECATED('comment',{source:c});var C=l(),E=C.pendingComments.get(o,r(d[4]).EMPTY_PENDING_COMMENT),I=E.text,_=E.repliedToCommentAuthorId,T=E.repliedToCommentId,b=C.posts.byId.get(o,{hasRankedComments:!1}).hasRankedComments,M=Boolean(null===(p=r(d[5]).getViewer(C))||void 0===p?void 0:p.isVerified);return s.request(),i(d[6])(r(d[7]).commentOnPost(o,I,T).then(function(t){s.responseSuccess();var p=i(d[8])(r(d[5]).getViewer(l())).id,E=t.id;u({type:r(d[0]).COMMIT_PENDING_COMMENT_SUCCEEDED,postId:o,commentText:I,hasRankedComments:b,commentAuthorId:p,commentAuthorIsVerified:M,commentId:E,postedAt:Math.round(Date.now()/1e3),repliedToCommentId:T}),i(d[2])._("f3cb0e417d8b73758be753a0ddc2afb7")||r(d[3]).logAction_DEPRECATED('commentSuccess',{source:c}),r(d[9]).logOrganicComment({commentAuthorId:p,commentId:E,containerModule:c,mediaId:o,mediaAuthorId:n,mediaType:r(d[10]).getMediaTypeById(C,o),parentCommentId:T,parentCommentAuthorId:_}),s.completeSuccess()},function(l){var p;s.responseFailure();var C=(null===(p=l.responseObject)||void 0===p?void 0:p.spam)||!1;if(C){var E,I,_,T,b=null===(E=l.responseObject)||void 0===E?void 0:E.feedback_title,M=null===(I=l.responseObject)||void 0===I?void 0:I.feedback_message,f=null===(_=l.responseObject)||void 0===_?void 0:_.feedback_url,v=null===(T=l.responseObject)||void 0===T?void 0:T.feedback_action;u(r(d[11]).showSentryFeedback({title:b,message:M,url:f,action:v}))}u({type:r(d[0]).COMMIT_PENDING_COMMENT_FAILED,postId:o,toast:C?void 0:{text:r(d[12])(2206),actionText:r(d[12])(286),actionHandler:function(){return u(t(o,n,c))}}}),i(d[2])._("f3cb0e417d8b73758be753a0ddc2afb7")||r(d[3]).logAction_DEPRECATED('commentFailure',{source:c}),s.completeFailure()}))}}Object.defineProperty(e,'__esModule',{value:!0}),e.changePendingComment=function(t,o,n,c,s){return{type:r(d[0]).CHANGE_PENDING_COMMENT,postId:t,text:o,repliedToCommentId:n,repliedToCommentAuthorId:c,repliedToUsername:s}},e.clearPendingComment=function(t){return{type:r(d[0]).CLEAR_PENDING_COMMENT,postId:t}},e.commitPendingComment=t},6488066,[13500688,13500823,13500475,13500535,13303948,13500810,13500519,13500619,13565981,3801126,3801135,13501098,13500478]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t){return!t.deleted&&!t.didReportAsSpam}Object.defineProperty(e,'__esModule',{value:!0});var n=i(d[0])(function(t){return t.posts.byId},function(t){return t.comments.byId},function(t){return t.threadedComments.parentByPostId},function(n,o,u){return function(c){var s=u.get(c),l=n.get(c);if(!s||!l)return r(d[1]).List();var f=s.commentIds,C=r(d[2]).getVisibleCount(s.pagination),h=l.hasRankedComments?0:f.count()-C;return f.map(function(t){return i(d[3])(o.get(t))}).slice(h,h+C).filter(function(n){return t(n)})}}),o=i(d[0])(function(t){return t.comments.byId},function(t){return t.threadedComments.childByParentId},function(n,o){return function(u){var c=i(d[3])(o.get(u)),s=c.commentIds,l=c.pagination,f=s.map(function(t){return i(d[3])(n.get(t))}),C=f.count()-r(d[2]).getVisibleCount(l);return{visibleChildComments:f.slice(C,f.count()).filter(function(n){return t(n)}),remainingCachedShowableChildCommentIds:f.slice(0,C).filter(function(n){return t(n)}).map(function(t){return t.id})}}}),u=i(d[0])(function(t){return t.comments.byId},function(t){return t.threadedComments.childByParentId},function(t,n){return function(t){return i(d[3])(n.get(t)).count||0}});e.selectVisibleParentCommentsForPostId=n,e.selectChildCommentsForParentIdSplitByVisibility=o,e.getTotalChildCommentCountForParentId=u,e.getThreadedCommentsLoading=function(t,n){var o;return!!(null===(o=t.threadedComments.initialCommentsLoading)||void 0===o?void 0:o.get(n))}},6619148,[13500601,2,13500618,13565981]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0])(597);e.default=function(n){var o=function(t){var o=n.handleLoadMoreCommentsClick,l=n.loggedIn,c=n.onLoggedOutIntentClickLoginModal,s=n.url;t.preventDefault(),!l&&r(d[1]).isDesktop()?c(s,'post_comment_view_all'):o(s)};return a(d[2]).createElement(r(d[3]).Box,{justifyContent:"center",marginBottom:n.marginBottom,marginTop:n.marginTop,minHeight:40,position:"relative"},!n.commentsIsFetching&&a(d[2]).createElement(i(d[4]),{onClick:function(t){return o(t)}},a(d[2]).createElement(i(d[5]),{alt:t})),n.commentsIsFetching&&a(d[2]).createElement(r(d[3]).Spinner,{position:"absolute",size:"medium"}))}},6619149,[13500478,13500425,3,13566002,13566034,6619150]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var n=a(d[2]).memo(function(n){return!0===(r(d[0]).isUserLoggedIn()?i(d[1])._("17eee9316ff98419f0da0f87506e1826","5674296d5992b855933c716066375b34"):i(d[1])._("282188012a6be9b45d0a5625db9131e5","42f2cd6fa53e15b032c207ba139724e3"))?a(d[2]).createElement(i(d[3]),n):a(d[2]).createElement(i(d[4]),i(d[5])({},n,{viewBox:"0 0 24 24"}),a(d[2]).createElement("circle",{cx:"12.008",cy:"12",fill:"none",r:"11.25",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.5"}),a(d[2]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"5.872",x2:"18.144",y1:"12",y2:"12"}),a(d[2]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",x1:"12.008",x2:"12.008",y1:"5.864",y2:"18.136"}))});e.default=n},6619150,[13500537,13500526,3,6619151,13566038,13500900]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var n=a(d[0]).memo(function(n){return a(d[0]).createElement(i(d[1]),i(d[2])({},n,{viewBox:"0 0 24 24"}),a(d[0]).createElement("circle",{cx:"12.001",cy:"12.005",fill:"none",r:"10.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),a(d[0]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"7.001",x2:"17.001",y1:"12.005",y2:"12.005"}),a(d[0]).createElement("line",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",x1:"12.001",x2:"12.001",y1:"7.005",y2:"17.005"}))});e.default=n},6619151,[3,13566038,13500900]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),r(d[0]);var t=(function(t){function n(){for(var n,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=t.call.apply(t,[this].concat(s))||this,n.$PreviewComments2=function(t){var o=n.props,s=o.analyticsContext,l=o.code,c=o.id,u=o.loadMore,p=o.loggedIn,v=o.mediaType,I=o.onLoggedOutIntentClick,h=o.ownerId,C=o.variant,f=r(d[2]).isMobile();if(t.preventDefault(),C===r(d[3]).VARIANTS.feed||f){var w=r(d[4]).buildMediaCommentsLink(l,f);p?(r(d[5]).browserHistory.push(w),r(d[6]).logInteractionAction({containerModule:s,eventName:'instagram_organic_comment_view_all',mediaAuthorId:h,mediaId:c,mediaType:v})):I('post_comment_view_all')}else u(c,l),r(d[6]).logInteractionAction({containerModule:s,eventName:'instagram_organic_comment_view_more',mediaAuthorId:h,mediaId:c,mediaType:v})},n}i(d[1])(n,t);var o=n.prototype;return o.componentDidUpdate=function(t,n,o){var s=this,l=t.commentSaveIsInFlight&&!this.props.commentSaveIsInFlight,c=this.$PreviewComments1;c&&r(d[7]).measure(function(){var n=c.scrollTop;l?n=c.scrollHeight:null!=o?n=c.scrollHeight-o:s.props.id!==t.id&&(n=0),r(d[7]).mutate(function(){c.scrollTop=n})})},o.getSnapshotBeforeUpdate=function(t){var n=t.comments,o=this.props.comments;if(t.id===this.props.id&&o&&n&&o.count()>n.count()){var s=this.$PreviewComments1;if(s)return s.scrollHeight-s.scrollTop}return null},o.render=function(){var t=this,n=this.props,o=n.analyticsContext,s=n.captionAndTitle,l=n.captionIsEdited,c=n.className,u=n.commentsAreStacked,p=n.commentsDisabled,v=n.commentsHasNextPage,I=n.commentsTotalCount,h=n.handleDeleteCommentClick,C=n.id,f=n.loggedIn,w=n.mediaType,y=n.ownerId,A=n.postedAt,T=n.previewComments,P=n.showIGTVCaption,_=n.showRemoveCommentIcons,N=n.variant,k=!0!==p&&(!0===v||null!=T&&T.length<I);if((null==s||''===s)&&0===I&&!k)return null;var x=T;return a(d[8]).createElement("div",{className:i(d[9])("KlCQn "+(r(d[2]).isMobile()||N!==r(d[3]).VARIANTS.flexible||u?"":"G14m-"),c),ref:function(n){return t.$PreviewComments1=n}},a(d[8]).createElement("ul",{className:"k59kT"},null!=s&&''!==s&&a(d[8]).createElement(i(d[10]),{analyticsContext:o,commentOwnerId:y,isCaption:!0,isEdited:!!l,isRestrictedPending:!1,key:"captionAndTitle",loggedIn:f,mediaType:w,postedAt:A,postId:C,postOwnerId:y,showIGTVCaption:P,showRemoveIcon:!1,text:s,variant:N}),k&&this.renderLoadMoreCommentsLink(),!0!==p&&x&&x.map(function(t){return a(d[8]).createElement(i(d[10]),{analyticsContext:o,commentOwnerId:t.userId,id:t.id,isAuthorVerified:t.isAuthorVerified,isRestrictedPending:t.isRestrictedPending,key:t.id,likedByViewer:t.likedByViewer,loggedIn:f,mediaType:w,onDeleteCommentClick:h,postedAt:t.postedAt,postId:C,postOwnerId:y,showRemoveIcon:_,text:t.text,variant:N})})))},o.renderLoadMoreCommentsLink=function(){var t,n=this.props,o=n.comments,s=n.commentsIsFetching,l=n.commentsTotalCount,c=n.variant,u=r(d[11])(784);return t=o&&o.count()+r(d[12]).PAGE_SIZE>=l||c===r(d[3]).VARIANTS.feed||r(d[2]).isMobile()?r(d[11])(2138,{count:a(d[8]).createElement(i(d[13]),{value:l})}):u,a(d[8]).createElement("li",{className:"lnrre"},a(d[8]).createElement(r(d[14]).Button,{borderless:!0,dangerouslySetClassName:{__className:"Z4IfV"},disabled:s,onClick:this.$PreviewComments2},t),s&&a(d[8]).createElement("div",{className:"hH5xZ"},a(d[8]).createElement(r(d[14]).Spinner,{position:"static",size:"small"})))},n})(a(d[8]).PureComponent),n={onLoggedOutIntentClick:r(d[17]).openLoggedOutIntentDialog,loadMore:r(d[18]).requestNextCommentPage},o=r(d[19]).connect(function(t,n){var o=r(d[15]).getPreviewCommentsForPostId(t,n.id),s=r(d[16]).getNumCommentsForPostId(t,n.id);return{analyticsContext:t.navigation.pageIdentifier||'',commentSaveIsInFlight:!1,commentsHasNextPage:!1,commentsIsFetching:!1,commentsTotalCount:s,previewComments:o,viewportWidth:t.displayProperties.viewportWidth}},n)(t);e.default=o},6619152,[6619153,13500500,13500425,13304645,13500723,13500848,3801129,13500669,3,13566007,6619142,13500478,13500687,13566342,13566002,13304783,3801135,13500857,13304797,5]);
__d(function() {},6619153,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var o=(function(o){function t(){for(var t,n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return t=o.call.apply(o,[this].concat(l))||this,t.$DeleteCommentModal1=function(o){i(d[1])._("f3cb0e417d8b73758be753a0ddc2afb7")||r(d[2]).logAction_DEPRECATED('commentDelete',{source:t.props.analyticsContext}),t.props.onDeleteClick(),t.props.onClose(o)},t}i(d[0])(t,o);return t.prototype.render=function(){return a(d[3]).createElement(r(d[4]).Dialog,{onModalClose:this.props.onClose},a(d[3]).createElement(r(d[4]).DialogItem,{color:"ig-error-or-destructive",onClick:this.$DeleteCommentModal1},r(d[5])(4047)),a(d[3]).createElement(r(d[4]).DialogItem,{onClick:this.props.onClose},r(d[6]).CANCEL_TEXT))},t})(a(d[3]).Component),t=r(d[8]).connect(null,function(o,t){return{onDeleteClick:function(){o(r(d[7]).deleteComment(t.postId,t.commentId))}}})(o);e.default=t},6619154,[13500500,13500475,13500535,3,13566002,13500478,13500821,13304797,5]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var t=r(d[0]).createSelector(function(t){return t.postRemoveComments},function(t){return t.isVisible});e.getPostRemoveCommentsIsVisible=t},6619155,[9]);